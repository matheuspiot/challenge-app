:root {
  color-scheme: light;
  font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
  --bg: #f4f7fb;
  --surface: #ffffff;
  --text: #1f2937;
  --muted: #64748b;
  --primary: #0f766e;
  --primary-strong: #0d5f58;
  --danger: #b91c1c;
  --danger-strong: #991b1b;
  --border: #dbe3ee;
}

* { box-sizing: border-box; }
body { margin: 0; background: radial-gradient(circle at top right, #d8efe8 0%, var(--bg) 35%); color: var(--text); }
.page { padding: 20px; max-width: 1360px; margin: 0 auto; }
.muted { color: var(--muted); }
.update-status-bar {
  position: sticky;
  top: 0;
  z-index: 1100;
  width: 100%;
  background: #dbeafe;
  border-bottom: 1px solid #bfdbfe;
  color: #1e3a8a;
  padding: 8px 14px;
  font-size: 0.9rem;
}

.auth-shell { min-height: 100vh; display: grid; place-items: center; padding: 20px; }
.auth-card { width: min(460px, 100%); background: var(--surface); border-radius: 16px; padding: 24px; box-shadow: 0 20px 50px rgba(15, 23, 42, 0.08); }

.topbar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px; gap: 12px; }
.card { background: var(--surface); border-radius: 14px; padding: 18px; border: 1px solid var(--border); margin-bottom: 16px; }
.split { display: grid; grid-template-columns: 360px 1fr; gap: 20px; }
.form-grid { display: grid; gap: 12px; grid-template-columns: repeat(2, minmax(180px, 1fr)); }
.full { grid-column: 1 / -1; }
.stack { display: flex; flex-direction: column; gap: 10px; }

label { display: flex; flex-direction: column; gap: 6px; font-size: 0.93rem; }
input, select, textarea { width: 100%; border: 1px solid var(--border); border-radius: 10px; padding: 9px 10px; font: inherit; }

button { border: none; border-radius: 10px; padding: 9px 12px; cursor: pointer; font: inherit; }
.btn-inline { display: inline-flex; align-items: center; gap: 6px; }
.btn-primary { background: var(--primary); color: white; }
.btn-primary:hover { background: var(--primary-strong); }
.btn-secondary { background: #dbe8f6; color: #124267; }
.btn-danger { background: var(--danger); color: white; }
.btn-danger:hover { background: var(--danger-strong); }
.btn-link { background: transparent; color: #0c4a6e; padding: 0; }

.challenge-list { display: flex; flex-direction: column; gap: 10px; }
.challenge-item { border: 1px solid var(--border); border-radius: 10px; padding: 12px; display: flex; justify-content: space-between; gap: 12px; align-items: flex-start; }

.actions { display: flex; gap: 8px; flex-wrap: wrap; }
.icon-actions { display: inline-flex; gap: 6px; }
.icon-btn {
  width: 32px; height: 32px; border: 1px solid #b6cbdf; border-radius: 8px; background: #eef5ff;
  color: #0f3f67; display: inline-flex; align-items: center; justify-content: center; padding: 0;
}
.icon-btn.danger { background: #fee2e2; border-color: #fecaca; color: #991b1b; }

.table-wrap { overflow-x: auto; border: 1px solid var(--border); border-radius: 10px; }
table { width: 100%; border-collapse: collapse; }
th, td { border-bottom: 1px solid var(--border); text-align: left; padding: 9px 10px; font-size: 0.92rem; }
thead th { background: #eef5ff; }
tbody td { vertical-align: middle; }
tbody tr:last-child td { border-bottom: none; }

.progress-box { display: flex; gap: 14px; flex-wrap: wrap; }
.progress-bar { margin-top: 10px; width: 100%; background: #e6edf4; height: 12px; border-radius: 10px; overflow: hidden; }
.progress-bar span { display: block; height: 100%; background: linear-gradient(90deg, #0f766e, #22c55e); }

.error-box, .success-box { border-radius: 10px; padding: 10px; margin-bottom: 12px; }
.error-box { background: #fee2e2; border: 1px solid #fecaca; color: #7f1d1d; }
.success-box { background: #dcfce7; border: 1px solid #bbf7d0; color: #14532d; }
.warning-box { background: #fef3c7; border: 1px solid #fde68a; color: #92400e; border-radius: 10px; padding: 10px; margin-bottom: 12px; }

.challenge-layout { display: grid; grid-template-columns: 260px 1fr; gap: 16px; }
.challenge-sidebar {
  background: var(--surface); border: 1px solid var(--border); border-radius: 16px; padding: 16px;
  display: flex; flex-direction: column; gap: 12px; min-height: 80vh; position: sticky; top: 12px;
}
.challenge-main { min-width: 0; }
.sidebar-menu { display: flex; flex-direction: column; gap: 8px; }
.side-tab {
  width: 100%; border: 1px solid var(--border); background: #edf3fa; border-radius: 10px;
  padding: 10px 12px; text-align: left;
}
.side-tab.active { background: #daf0eb; border-color: #9fd8ce; }
.sidebar-user { margin-top: auto; border-top: 1px solid var(--border); padding-top: 10px; }

.stats-grid { display: grid; grid-template-columns: repeat(4, minmax(160px, 1fr)); gap: 12px; margin-bottom: 16px; }
.stat-card h2 { margin: 8px 0 0; font-size: 1.6rem; }

.selected-athlete { background: #ecfdf5; border: 1px solid #a7f3d0; border-radius: 10px; padding: 9px; }
.mini-tabs { display: flex; gap: 8px; margin-bottom: 10px; }
.mini-tab { border: 1px solid var(--border); background: #edf3fa; border-radius: 9px; padding: 8px 10px; }
.mini-tab.active { background: #daf0eb; border-color: #9fd8ce; }

.rank-cell { display: flex; align-items: center; gap: 6px; }
.rank-icon.gold { color: #ca8a04; }
.rank-icon.silver { color: #64748b; }

.athlete-profile-panel { background: linear-gradient(135deg, #ecfdf5 0%, #f8fafc 80%); border-color: #99f6e4; }
.profile-grid { display: grid; grid-template-columns: repeat(4, minmax(120px, 1fr)); gap: 12px; }

.modal-overlay {
  position: fixed; inset: 0; background: rgba(15, 23, 42, 0.45);
  display: grid; place-items: center; z-index: 1000; padding: 20px;
}
.modal-box { width: min(460px, 100%); background: white; border-radius: 12px; border: 1px solid var(--border); padding: 16px; }

p, small { color: var(--muted); }

@media (max-width: 960px) {
  .challenge-layout { grid-template-columns: 1fr; }
  .challenge-sidebar { position: static; min-height: auto; }
  .split { grid-template-columns: 1fr; }
  .form-grid { grid-template-columns: 1fr; }
  .profile-grid { grid-template-columns: repeat(2, minmax(120px, 1fr)); }
  .stats-grid { grid-template-columns: repeat(2, minmax(140px, 1fr)); }
  .challenge-item { flex-direction: column; }
}
